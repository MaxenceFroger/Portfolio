CREATE TABLE P08_Collection
(
    collection_id INT PRIMARY KEY AUTO_INCREMENT,
    collection_nom VARCHAR(100) UNIQUE NOT NULL,
    collection_licence    VARCHAR(100) NOT NULL,
    collection_categorie  VARCHAR(100) NOT NULL
);

CREATE TABLE P08_FigurineCaracteristique
(
    figurine_reference   BIGINT PRIMARY KEY,
    figurine_nom         VARCHAR(100) NOT NULL,
    figurine_personnage  VARCHAR(100) NOT NULL,
    figurine_taille      INT         NOT NULL,
    figurine_date_sortie DATE        NOT NULL,
    figurine_popid       INT         NOT NULL,
    figurine_chase       BOOLEAN     NOT NULL,
    collection_id  INT NOT NULL,
    FOREIGN KEY (collection_id) REFERENCES P08_Collection (collection_id)
);

CREATE TABLE P08_Inventaire
(
    figurine_id               INT PRIMARY KEY AUTO_INCREMENT,
    figurine_reference        BIGINT  NOT NULL,
    FOREIGN KEY (figurine_reference) REFERENCES P08_FigurineCaracteristique (figurine_reference),
    figurine_prix             FLOAT,
    figurine_est_possedee     BOOLEAN NOT NULL,
    figurine_echangeable      BOOLEAN NOT NULL,
    CONSTRAINT check_echange CHECK ((figurine_est_possedee = FALSE AND figurine_echangeable = FALSE) OR figurine_est_possedee = TRUE),
    figurine_date_acquisition DATE,
    CONSTRAINT check_date CHECK ((figurine_est_possedee = TRUE AND figurine_date_acquisition is not null) OR figurine_est_possedee = false)
);

INSERT INTO P08_Collection (collection_nom, collection_licence, collection_categorie)
VALUES
    ('ZZ Top', 'POP! Rocks', 'Tower Top Tours , INC'),
    ('Zorro', 'POP! Television', 'Zorro Productions, Inc'),
    ('Zootopie', 'POP! Disney', 'Disney'),
    ('Zoolander', 'POP! Movies', 'Paramount Licensing Inc'),
    ('Zoo Australien', 'POP! Television', 'Ikon Collectable Pty'),
    ('Zack Snyder''s Justice League', 'POP! Heroes', 'Warner Bros. Consumer Products'),
    ('Yuri on Ice', 'POP! Animation', 'Ellation Inc'),
    ('Yu-Gi-Oh!', 'POP! Animation', '4K Media Inc.'),
    ('X-Files', 'POP! Television', '20th Century Fox'),
    ('Witcher', 'POP! Games', 'CD PROJEKT S.A.'),
    ('Willow', 'POP! Movies', 'Disney'),
    ('2001 : l''Odyssée de l''espace', 'POP! Movies', 'Funko'),
    ('Alita: Battle Angel', 'POP! Movies', '20th Century Fox'),
    ('Ben 10', 'POP! Animation', 'Cartoon Network Enterprises'),
    ('Carmen Sandiego', 'POP! Television', 'HMH IP Company'),
    ('Danny Fantôme', 'POP! Animation', 'Viacom Media Networks'),
    ('EVH', 'POP! Rocks', ' 	EVH Inc.'),
    ('Free Guy', 'POP! Movies', 'Disney'),
    ('Gigantor', 'POP! Animation', 'Entercolor Technologies Corporation'),
    ('Harley Quinn 30 ans', 'POP! Heroes', 'Warner Bros. Consumer Products'),
    ('Insidious', 'POP! Movies', 'Funko'),
    ('Jungle Cruise', 'POP! Disney', 'Disney'),
    ('Korn', 'POP! Rocks', 'Global Merchandising Services Ltd'),
    ('La Stratégie Ender', 'POP! Movies', 'Lions Gate Films'),
    ('M. Peabody et Sherman : Les Voyages dans le temps', 'POP! Animation', 'Bullwinkle Studios'),
    ('New York 1997', 'POP! Movies', 'Universal Studios Licensing'),
    ('Ozuna', 'POP! Rocks', 'Univision'),
    ('Popeye', 'POP! Animation', 'Funko Legacy'),
    ('Q*Bert', 'POP! Games', 'Sony Pictures Consumer Products'),
    ('Robocop', 'POP! Movies', 'MGM Consumer Products'),
    ('Scream', 'POP! Movies', 'Easter Unlimited'),
    ('The Last Ronin', 'POP! Comics', 'Viacom Media Networks'),
    ('Un jour sans fin', 'POP! Movies', 'Funko Legacy'),
    ('Venom : Let There Be Carnage', 'POP! Marvel', 'Marvel Characters B.V.'),
    ('Genshin Impact', 'POP! Asia', 'Funko Legacy'),
    ('Pokémon', 'POP! Games', 'The Pokemon Company');


INSERT INTO P08_FigurineCaracteristique (figurine_reference, figurine_nom, figurine_personnage, figurine_taille, figurine_date_sortie, figurine_popid, figurine_chase, collection_id)
VALUES
    (889698411509, 'Billy Gibbons (Flocked)', 'Billy Gibbons', 10, '2020-03-17', 164, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'ZZ Top')),
    (889698411868, 'Dusty Hill (Flocked)', 'Dusty Hill', 10, '2020-03-17', 165, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'ZZ Top')),
    (889698411851, 'Frank Beard', 'Frank Beard', 10, '2020-03-17', 166, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'ZZ Top')),
    (889698593182, 'Zorro', 'Zorro', 10, '2022-05-05', 1270, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zorro')),
    (849803071493, 'Nick Wilde', 'Nick Wilde', 10, '2015-12-26', 186, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zootopie')),
    (849803071523, 'Ele-Finnick', 'Ele-Finnick', 10, '2015-12-26', 187, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zootopie')),
    (849803071530, 'Mr. Big', 'Mr. Big', 10, '2015-12-26', 188, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zootopie')),
    (849803071554, 'Judy Hopps', 'Judy Hopps', 10, '2015-12-30', 189, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zootopie')),
    (849803075255, 'Flash', 'Flash', 10, '2015-12-30', 190, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zootopie')),
    (889698364775, 'Derek Zoolander', 'Derek Zoolander', 10, '2019-02-16', 700, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zoolander')),
    (889698364300, 'Hansel', 'Hansel', 10, '2019-02-16', 701, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zoolander')),
    (889698364294, 'Mugatu', 'Mugatu', 10, '2019-02-16', 702, true, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zoolander')),
    (889698364249, 'Derek Zoolander', 'Derek Zoolander', 10, '2019-07-17', 703, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zoolander')),
    (889698439770, 'Steve Irwin avec Crocodile', 'Steve Irwin', 10, '2019-07-24', 921, true, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zoo Australien')),
    (889698443357, 'Steve Irwin avec Serpent', 'Steve Irwin', 10, '2020-02-21', 950, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zoo Australien')),
    (889698546966, 'Steve Irwin avec Sui', 'Steve Irwin', 10, '2021-02-22', 1105, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zoo Australien')),
    (889698568012, 'Superman', 'Superman (Kal-El / Clark Kent)', 10, '2021-04-02', 1123, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698568005, 'Diana Prince', 'Wonder Woman (Diana Prince)', 10, '2021-04-02', 1124, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698567992, 'Desaad', 'Desaad', 10, '2021-04-02', 1125, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698573597, 'Darkseid', 'Darkseid', 10, '2021-04-02', 1126, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698581660, 'Darkseid (Noir & Blanc)', 'Darkseid', 10, '2021-04-12', 1126, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698572781, 'Darkseid (Metallic)', 'Darkseid', 10, '2021-04-12', 1126, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698568357, 'Superman', 'Superman (Kal-El / Clark Kent)', 10, '2021-04-02', 1127, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698567985, 'Darkseid on Throne', 'Darkseid', 10, '2021-04-02', 1128, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Zack Snyder''s Justice League')),
    (889698218795, 'Yuri Katsuki avec Patins', 'Yuri Katsuki', 10, '2017-09-03', 288, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yuri on Ice')),
    (889698218825, 'Victor Nikiforov avec Patins', 'Victor Nikiforov', 10, '2017-09-03', 289, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yuri on Ice')),
    (889698218849, 'Yurio Plisetsky avec Patins', 'Yurio Plisetsky', 10, '2017-09-03', 290, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yuri on Ice')),
    (889698226714, 'Victor Jeune', 'Victor Nikiforov', 10, '2017-09-09', 291, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yuri on Ice')),
    (889698274487, 'Yami Yugi avec carte', 'Yami Yugi', 10, '2018-06-01', 387, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698274500, 'Seto Kaiba', 'Seto Kaiba', 10, '2018-06-01', 388, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698274517, 'Dragon Blanc aux Yeux Bleus', 'Dragon Blanc aux Yeux Bleus', 10, '2018-06-26', 389, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698411882, 'Dragon Blanc aux Yeux Bleus (Metallic)', 'Dragon Blanc aux Yeux Bleus', 10, '2019-08-10', 389, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698274524, 'Magicienne des Ténèbres', 'Magicienne des Ténèbres', 10, '2018-06-26', 390, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698403849, 'Magicien des Ténèbres', 'Magicien des Ténèbres', 10, '2019-06-26', 595, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698469227, 'Yugi Muto', 'Yugi Muto', 10, '2020-02-21', 715, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698469241, 'Maximillion Pegasus', 'Maximillion Pegasus', 10, '2020-02-21', 716, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698469234, 'Joey Wheeler', 'Joey Wheeler', 10, '2020-02-21', 717, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698469258, 'Dragon Noir aux Yeux Rouges', 'Dragon Noir aux Yeux Rouges', 10, '2020-02-21', 718, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698476683, 'Exodia (Supersized)', 'Exodia', 15, '2020-02-21', 755, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698475853, 'Slifer (Supersized)', 'Slifer', 15, '2020-02-21', 756, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698475693, 'Obélisque (Supersized)', 'Obélisque', 15, '2020-02-21', 757, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698520836, 'Yami Marik', 'Yami Marik', 10, '2020-09-25', 886, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698576451, 'Pharaoh Atem (Metallic)', 'Yugi Muto', 10, '2021-10-25', 1059, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698576468, 'Mai Valentine', 'Mai Valentine', 10, '2021-10-25', 1060, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698576475, 'Yami Bakura', 'Yami Bakura', 10, '2021-10-25', 1061, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698576482, 'Dragon Toon aux Yeux Bleus (Metallic)', 'Dragon Toon aux Yeux Bleus', 10, '2021-10-25', 1062, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698581417, 'Spadassin Silencieux LVO', 'Spadassin Silencieux', 10, '2021-10-25', 1063, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698585590, 'Dragon de Poussière d''Etoile (Metallic & Supersized)', 'Dragon de Poussière d''Etoile', 15, '2021-10-25', 1064, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698582223, 'Dragon Ultime aux Yeux Bleus (Metallic & Supersized)', 'Dragon Ultime aux Yeux Bleus', 15, '2021-10-25', 1078, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698608534, 'Soldat du Lustre Noir', 'Soldat du Lustre Noir', 10, '2022-02-25', 1096, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698603379, 'Dragon Ailé de Ra (Metallic & Supersized)', 'Dragon Ailé de Ra', 10, '2021-10-25', 1098, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698653763, 'Crâne Invoqué', 'Summoned Skull', 10, '2022-11-22', 1175, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698670562, 'Dragon à Cinq Têtes', 'Dragon à Cinq Têtes', 10, '2022-09-06', 1230, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698736299, 'Dragon de Harpie (Supersized)', 'Dragon de Harpie', 25, '2024-01-16', 1415, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698720663, 'Yami Yugi', 'Yami Yugi', 10, '2023-09-26', 1451, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698720625, 'Joey Wheeler', 'Joey Wheeler', 10, '2023-09-26', 1452, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698720649, 'Seto Kaiba', 'Seto Kaiba', 10, '2023-09-26', 1453, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698720656, 'Time Wizard', 'Time Wizard', 10, '2023-09-26', 1454, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698743891, 'Kuriboh (Flocked & Glow in the Dark)', 'Kuriboh', 10, '2023-09-14', 1455, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698720632, 'Kuriboh', 'Kuriboh', 10, '2023-09-26', 1455, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698720670, 'XYZ-Dragon Cannon (Supersized)', 'XYZ-Dragon Cannon', 15, '2023-09-26', 1456, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698746052, 'Cyber end Dragon (Supersized)', 'Cyber end Dragon', 15, '2023-11-10', 1457, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698746083, 'Jinzo avec Time Wizard', 'Jinzo', 10, '2023-11-10', 1458, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698702720, 'Magicienne des Ténèbres', 'Magicienne des Ténèbres', 10, '2023-10-12', 1461, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698747134, 'Dragon Toon aux Yeux Bleus (Glow in the Dark & Supersized)', 'Dragon Toon aux Yeux Bleus', 15, '2023-12-17', 1478, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698756037, 'Avian Héros Élémentaire', 'Avian', 10, '2024-05-02', 1597, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698756044, 'Burstinatrix Héros Elémentaire', 'Burstinatrix', 10, '2024-05-02', 1598, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698756075, 'Dame Harpie', 'Dame Harpie', 10, '2024-05-02', 1599, true, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698765299, 'Ojama Jaune', 'Ojama Jaune', 10, '2024-05-02', 1600, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698765305, 'Kuriboh Ailé', 'Kuriboh Ailé', 10, '2024-05-02', 1601, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698756020, 'Chad Princeton', 'Chad Princeton', 10, '2024-05-02', 1602, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (889698765282, 'Jaden Yuki', 'Jaden Yuki', 10, '2024-05-02', 1603, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Yu-Gi-Oh!')),
    (849803042523, 'Fox Mulder', 'Fox Mulder', 10, '2015-03-28', 183, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'X-Files')),
    (849803042516, 'Dana Scully', 'Dana Scully', 10, '2015-03-28', 184, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'X-Files')),
    (849803042530, 'L''homme qui fume', 'L''homme qui fume (C.G.B. Spender)', 10, '2015-03-28', 185, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'X-Files')),
    (849803042547, 'Alien', 'Alien', 10, '2015-03-28', 186, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'X-Files')),
    (889698121347, 'Geralt', 'Geralt', 10, '2016-11-24', 149, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698121330, 'Ciri', 'Ciri', 10, '2016-11-24', 150, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698410076, 'Ciri', 'Ciri', 10, '2019-05-02', 150, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698121316, 'Eredin', 'Eredin', 10, '2016-11-24', 151, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698121323, 'Yennefer', 'Yennefer', 10, '2016-11-24', 152, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698121354, 'Triss', 'Triss', 10, '2016-11-24', 153, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698450393, 'Geralt (IGNI)', 'Geralt', 10, '2019-12-23', 554, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698463737, 'Geralt vs. Leshen', 'Geralt', 10, '2019-11-08', 555, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698470957, 'Leshen (Supersized)', 'Leshen', 15, '2020-06-22', 561, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Witcher')),
    (889698657655, 'Général Kael', 'Général Kael', 10, '2023-02-01', 1312, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Willow')),
    (889698657662, 'Madmartigan', 'Madmartigan', 10, '2023-02-01', 1313, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Willow')),
    (889698657679, 'Sorsha', 'Sorsha', 10, '2023-02-01', 1314, true, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Willow')),
    (889698657686, 'Willow Ufgood', 'Willow Ufgood', 10, '2023-02-01', 1315, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Willow')),
    (889698433761, 'Dr. Frank Poole', 'Dr. Frank Poole', 10, '2019-10-03', 823, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = '2001 : l''Odyssée de l''espace')),
    (889698303217, 'Alita Corps de Poupée', 'Alita', 10, '2018-11-03', 562, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Alita: Battle Angel')),
    (889698303279, 'Alita Corps Berserker', 'Alita', 10, '2018-11-03', 563, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Alita: Battle Angel')),
    (889698307482, 'Alita Corps Berserker (Noir & Blanc)', 'Alita', 10, '2018-11-03', 563, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Alita: Battle Angel')),
    (889698303361, 'Alita Corps Motorball', 'Alita', 10, '2018-11-03', 564, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Alita: Battle Angel')),
    (889698670432, 'Swampfire', 'Swampfire', 10, '2022-09-06', 1202, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Ben 10')),
    (889698320399, 'Carmen Sandiego', 'Carmen Sandiego', 10, '2018-06-01', 662, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Carmen Sandiego')),
    (889698324526, 'Carmen Sandiego (Translucent)', 'Carmen Sandiego', 10, '2018-06-04', 662, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Carmen Sandiego')),
    (889698371261, 'Carmen Sandiego (Diamond Glitter)', 'Carmen Sandiego', 10, '2019-03-09', 662, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Carmen Sandiego')),
    (889698485203, 'Danny Fantôme', 'Danny Fantôme', 10, '2020-09-15', 854, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Danny Fantôme')),
    (889698593885, 'Eddie Van Halen', 'Eddie Van Halen', 10, '2021-12-09', 258, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'EVH')),
    (889698742924, 'Eddie Van Halen', 'Eddie Van Halen', 10, '2023-08-25', 350, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'EVH')),
    (889698645355, 'Guy', 'Guy', 10, '2022-09-06', 1241, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Free Guy')),
    (849803052522, 'Gigantor', 'Gigantor', 10, '2015-07-02', 41, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Gigantor')),
    (889698663182, 'Harley Quinn avec Cartes', 'Harley Quinn (Harleen Quinzel)', 10, '2022-09-17', 454, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Harley Quinn 30 ans')),
    (889698742641, 'Key Face', 'Key Face', 10, '2023-10-12', 1459, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Insidious')),
    (889698504737, 'Frank', 'Frank Wolff', 10, '2021-06-18', 971, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Jungle Cruise')),
    (889698576123, 'Jonathan Davis', 'Jonathan Davis', 10, '2021-07-01', 242, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Korn')),
    (849803037079, 'Ender', 'Ender', 10, '2013-08-23', 59, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'La Stratégie Ender')),
    (849803037086, 'Petra', 'Petra', 10, '2014-06-01', 60, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'La Stratégie Ender')),
    (849803037833, 'Sherman', 'Sherman', 10, '2014-06-01', 7, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'M. Peabody et Sherman : Les Voyages dans le temps')),
    (849803037826, 'Mr. Peabody', 'Mr. Peabody', 10, '2014-08-25', 8, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'M. Peabody et Sherman : Les Voyages dans le temps')),
    (889698506687, 'Snake Plissken', 'Snake Plissken', 10, '2020-09-16', 1008, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'New York 1997')),
    (889698538619, 'Ozuna', 'Ozuna', 10, '2020-12-03', 203, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Ozuna')),
    (889698301800, 'Popeye', 'Popeye', 10, '2018-05-01', 369, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Popeye')),
    (889698108515, 'Q*Bert', 'Q*Bert', 10, '2016-10-08', 169, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Q*Bert')),
    (830395030487, 'Robocop', 'Robocop', 10, '2013-08-15', 22, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Robocop')),
    (830395033600, 'Ghostface', 'Ghostface', 10, '2014-01-01', 51, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Scream')),
    (889698736961, 'Le Dernier Ronin', 'The Last Ronin (Michelangelo)', 10, '2023-09-30', 240, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'The Last Ronin')),
    (889698472401, 'Phil Connors avec Punxsutawney Phil', 'Phil Connors', 10, '2020-10-27', 1045, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Un jour sans fin')),
    (889698472395, 'Punxsutawney Phil (Flocked)', 'Punxsutawney Phil', 10, '2021-02-09', 1046, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Un jour sans fin')),
    (889698585989, 'Carnage', 'Carnage', 10, '2021-10-05', 926, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Venom : Let There Be Carnage')),
    (889698808972, 'Keqing', 'Keqing', 10, '2023-07-25', 182, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Genshin Impact')),
    (889698808958, 'Diluc', 'Diluc', 10, '2023-07-25', 183, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Genshin Impact')),
    (889698808965, 'Hilichurl', 'Hilichurl', 10, '2023-07-25', 184, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Genshin Impact')),
    (889698683814, 'Lumine', 'Lumine', 10, '2022-03-03', 161, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Genshin Impact')),
    (889698683821, 'Paimon', 'Paimon', 10, '2022-03-03', 162, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Genshin Impact')),
    (889698683807, 'Aether', 'Aether', 10, '2022-03-03', 160, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Genshin Impact')),
    (889698315289, 'Pikachu', 'Pikachu', 10, '2018-05-21', 356, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon')),
    (889698376037, 'Salamèche', 'Salamèche', 10, '2019-03-12', 455, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon')),
    (889698394420, 'Carapuce', 'Carapuce', 10, '2019-07-15', 504, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon')),
    (889698362375, 'Bulbizarre', 'Bulbizarre', 10, '2019-02-01', 453, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon')),
    (889698468640, 'Mewtwo', 'Mewtwo', 10, '2020-02-06', 581, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon')),
    (889698593427, 'Lucario', 'Lucario', 10, '2022-02-01', 856, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon')),
    (889698540438, 'Mew', 'Mew', 10, '2021-02-01', 643, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon')),
    (889698709774, 'Luxray', 'Luxray', 10, '2024-03-07', 956, false, (SELECT collection_id FROM P08_Collection WHERE collection_nom = 'Pokémon'));


INSERT INTO P08_Inventaire (figurine_reference, figurine_prix, figurine_est_possedee, figurine_echangeable, figurine_date_acquisition)
VALUES
    (889698546966, 170.0, false, false, '2021-11-17'),
    (889698746052, 127.0, true, false, '2024-07-27'),
    (849803037833, 167.0, true, false, '2023-03-09'),
    (889698765299, 169.0, true, true, '2024-10-13'),
    (889698657686, 139.0, true, false, '2023-04-03'),
    (889698736961, 88.0, true, false, '2024-01-05'),
    (889698376037, 109.0, true, false, '2019-10-13'),
    (849803037079, NULL, true, true, '2017-09-19'),
    (889698303217, 105.0, true, true, '2020-05-06'),
    (889698364249, 171.0, true, true, '2023-05-30'),
    (889698603379, 97.0, true, false, '2024-04-28'),
    (889698433761, 130.0, true, false, '2019-10-28'),
    (889698683807, 62.0, true, false, '2024-08-06'),
    (849803042516, 171.0, true, false, '2022-11-04'),
    (889698226714, 108.0, true, false, '2023-02-01'),
    (889698657655, 131.0, true, true, '2023-02-17'),
    (889698683814, 133.0, true, true, '2022-07-17'),
    (849803071523, 110.0, false, false, '2021-03-30'),
    (889698439770, 170.0, true, false, '2023-02-22'),
    (889698746083, 104.0, true, false, '2023-12-01'),
    (889698376037, 149.0, true, false, '2020-07-27'),
    (889698475853, 128.0, true, false, '2022-09-21'),
    (889698747134, 154.0, true, false, '2024-05-29'),
    (889698765299, 103.0, true, false, '2024-07-26'),
    (889698756020, NULL, true, false, '2024-09-09'),
    (889698720656, 114.0, true, false, '2024-05-28'),
    (889698364300, 172.0, true, false, '2021-08-07'),
    (889698702720, 24.0, false, false, '2024-01-06'),
    (889698218849, 104.0, true, false, '2018-11-07'),
    (889698506687, 100.0, true, true, '2020-10-31'),
    (889698742924, 105.0, true, true, '2023-10-16'),
    (889698443357, 65.0, true, false, '2021-12-26'),
    (889698411509, 129.0, true, false, '2024-08-14'),
    (889698538619, 93.0, true, false, '2023-03-14'),
    (849803071554, 138.0, true, false, '2016-07-02'),
    (849803071554, 132.0, true, false, '2016-02-07'),
    (889698756044, 137.0, true, false, '2024-08-04'),
    (889698765305, 24.0, true, true, '2024-05-04'),
    (889698765282, 40.0, true, true, '2024-07-25'),
    (889698470957, 167.0, true, true, '2021-11-03'),
    (889698576475, 114.0, true, false, '2023-01-22'),
    (889698362375, 164.0, true, false, '2021-06-23'),
    (889698593427, 127.0, true, false, '2023-08-29'),
    (889698572781, 154.0, false, false, '2023-11-05'),
    (889698765282, 160.0, true, true, '2024-06-23'),
    (889698567985, 151.0, true, true, '2023-04-12'),
    (889698742924, 140.0, true, false, '2024-05-22'),
    (849803042530, 167.0, true, false, '2020-01-11'),
    (889698702720, 160.0, true, false, '2024-02-05'),
    (889698540438, 141.0, false, false, '2024-01-30'),
    (849803075255, 62.0, false, false, '2019-09-06'),
    (889698274487, 125.0, false, false, '2024-06-07'),
    (889698394420, 163.0, true, false, '2024-03-19'),
    (889698540438, 162.0, true, true, '2021-08-12'),
    (889698469258, 157.0, true, false, '2023-04-04'),
    (889698108515, 96.0, true, false, '2023-04-19'),
    (889698653763, 122.0, true, false, '2023-07-02'),
    (889698720656, 96.0, true, false, '2023-10-16'),
    (889698720670, 68.0, true, false, '2023-10-29'),
    (889698746083, 161.0, true, false, '2024-06-04'),
    (889698720670, 165.0, true, false, '2024-04-19'),
    (889698410076, NULL, true, false, '2021-08-09'),
    (889698653763, 122.0, true, false, '2024-07-26'),
    (889698411868, 157.0, true, false, '2023-04-15'),
    (889698709774, 99.0, true, false, '2024-04-29'),
    (889698450393, 133.0, true, false, '2024-08-17'),
    (889698608534, 159.0, true, true, '2022-09-14'),
    (889698538619, 167.0, true, false, '2022-02-07'),
    (889698469241, 144.0, true, false, '2022-02-20'),
    (889698469258, 12.0, false, false, '2023-01-04'),
    (889698720670, 15.0, true, true, '2024-05-26'),
    (849803042516, 158.0, true, true, '2022-06-20'),
    (889698475853, 75.0, true, false, '2022-11-23'),
    (889698808972, 161.0, false, false, '2023-12-12'),
    (889698472395, 108.0, false, false, '2022-08-15'),
    (889698581660, 116.0, true, false, '2024-08-07'),
    (889698765305, 141.0, true, true, '2024-07-14'),
    (889698765299, 152.0, true, true, '2024-08-24'),
    (889698746052, 101.0, true, true, '2024-03-19'),
    (889698520836, 83.0, true, false, '2021-02-09'),
    (889698736961, 18.0, true, false, '2023-11-25'),
    (889698645355, 66.0, true, false, '2024-05-25'),
    (889698450393, 150.0, true, true, '2022-04-14'),
    (889698657679, 170.0, true, false, '2023-10-25'),
    (889698683814, 156.0, true, false, '2024-09-04'),
    (889698576482, 92.0, true, false, '2022-01-24'),
    (889698720625, 135.0, true, false, '2024-10-15'),
    (889698720663, 109.0, true, false, '2024-10-31'),
    (889698585590, 94.0, true, false, '2023-01-14'),
    (889698808958, NULL, true, true, '2024-10-14'),
    (889698485203, 149.0, true, true, '2021-02-10'),
    (849803037826, 58.0, true, false, '2018-06-07'),
    (889698476683, 109.0, true, false, '2020-05-01'),
    (889698709774, 97.0, false, false, '2024-10-04'),
    (889698218825, 89.0, true, false, '2024-10-13'),
    (849803037833, 97.0, false, false, '2022-11-24'),
    (889698301800, 86.0, true, false, '2018-09-10'),
    (849803042530, 143.0, true, false, '2017-10-23'),
    (889698303217, 114.0, true, false, '2021-04-05'),
    (889698568005, 171.0, false, false, '2021-11-09');



CREATE OR REPLACE VIEW P08_InventairePossedeDetaille(figurine_id, figurine_reference, figurine_nom, figurine_personnage, collection_nom, collection_categorie, collection_licence, figurine_prix, figurine_echangeable, figurine_date_acquisition)
AS SELECT figurine_id, figurine_reference, figurine_nom, figurine_personnage, collection_nom, collection_categorie, collection_licence, figurine_prix, figurine_echangeable, figurine_date_acquisition
   FROM P08_Inventaire NATURAL JOIN P08_FigurineCaracteristique NATURAL JOIN P08_Collection
   WHERE figurine_est_possedee = true ORDER BY collection_nom, figurine_nom;



CREATE OR REPLACE VIEW P08_ListeDeSouhaits(figurine_id, figurine_reference, figurine_nom, figurine_personnage,  figurine_prix, figurine_echangeable, figurine_date_ajout)
AS SELECT figurine_id, figurine_reference, figurine_nom, figurine_personnage,  figurine_prix, figurine_echangeable, figurine_date_acquisition
   FROM P08_Inventaire NATURAL JOIN P08_FigurineCaracteristique WHERE figurine_est_possedee = false;


CREATE OR REPLACE VIEW P08_CompletionCollection(collection_id, collection_nom, nb_figurines_possedees, nb_modeles_possedes, nb_modeles_existant, pourcentage_collection_possede)
AS SELECT P08_Collection.collection_id,
          P08_Collection.collection_nom,
          COUNT(P08_Inventaire.figurine_id),
          COUNT(DISTINCT P08_Inventaire.figurine_reference),
          table_modeles_existant.nb_modeles_existant,
          100*COUNT(DISTINCT P08_Inventaire.figurine_reference)/table_modeles_existant.nb_modeles_existant
   FROM P08_Collection
            NATURAL JOIN P08_FigurineCaracteristique
            NATURAL JOIN P08_Inventaire
            JOIN ( SELECT collection_id, COUNT(figurine_reference) nb_modeles_existant
                   FROM P08_Collection
                            NATURAL JOIN P08_FigurineCaracteristique
                   GROUP BY P08_Collection.collection_id
   ) as table_modeles_existant ON table_modeles_existant.collection_id = P08_Collection.collection_id
   WHERE P08_Inventaire.figurine_est_possedee = true
   GROUP BY P08_Collection.collection_id;
